<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>JSå­¦ä¹ ç¬”è®°: String.replace | Otirik&#39;s Blog</title>
<meta name="description" content="æ¸©æ•…è€ŒçŸ¥æ–°">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="shortcut icon" href="https://otirik-handi.github.io//favicon.ico?v=1629646988483">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://unpkg.com/papercss@1.6.1/dist/paper.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://otirik-handi.github.io//styles/main.css">


<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>


<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />


  </head>
  <body>
  
    <nav class="navbar border fixed split-nav">
  <div class="nav-brand">
    <h3><a href="https://otirik-handi.github.io/">Otirik&#39;s Blog</a></h3>
  </div>
  <div class="collapsible">
    <input id="collapsible1" type="checkbox" name="collapsible1">
    <button>
      <label for="collapsible1">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
      </label>
    </button>
    <div class="collapsible-body">
      <ul class="inline">
        
          <li>
            
              <a href="/" class="menu">
                é¦–é¡µ
              </a>
            
          </li>
        
          <li>
            
              <a href="/archives" class="menu">
                å½’æ¡£
              </a>
            
          </li>
        
          <li>
            
              <a href="/tags" class="menu">
                æ ‡ç­¾
              </a>
            
          </li>
        
          <li>
            
              <a href="/post/about" class="menu">
                å…³äº
              </a>
            
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div id="top" class="row site">
      <div class="sm-12 md-8 col">
        <div class="paper">
          <article class="article">
            <h1>JSå­¦ä¹ ç¬”è®°: String.replace</h1>
            <p class="article-meta">
              2021-08-21
              
            </p>
            
            <div class="post-content">
              <p>ä»Šå¤©å­¦ä¹ äº†æ­£åˆ™è¡¨è¾¾å¼, å‘ç°<strong>replaceæ–¹æ³•+re</strong>æ•ˆæœéå¸¸å¼ºå¤§</p>
<h2 id="strreplaceold-new">str.replace(old, new)</h2>
<p><strong>ç”Ÿæˆä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå¹¶å°†strä¸­oldå­—ç¬¦ä¸²éƒ¨åˆ†æ›¿æ¢æˆnewå­—ç¬¦ä¸²</strong></p>
<p>ä¾‹å­ï¼š</p>
<pre><code class="language-js">    let str = &quot;hello, world!&quot;, oldStr = &quot;world!&quot;, newStr = &quot;JavaScript!&quot;
    let res = str.replace(oldStr, newStr)
    console.log(res)
</code></pre>
<p>è¾“å‡º:</p>
<pre><code>hello, JavaScript!
</code></pre>
<p>æ¥ä¸‹æ¥å°±æ˜¯ç»“åˆæ­£åˆ™è¡¨è¾¾å¼äº†ï¼Œä¸äº†è§£æ­£åˆ™è¡¨è¾¾å¼çš„å¯ä»¥çœ‹çœ‹è¿™ä¸ªå“¦ğŸ‘‰ <strong><a href="https://doc.houdunren.com/js/14%20%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.html">åç›¾äººæ­£åˆ™è¡¨è¾¾å¼æ•™ç¨‹</a></strong></p>
<h2 id="strreplacereg-new">str.replace(reg, new)</h2>
<p><strong>ç”Ÿæˆä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå¹¶å°†strä¸­æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…éƒ¨åˆ†æ›¿æ¢æˆnewå­—ç¬¦ä¸²</strong></p>
<p>ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<pre><code class="language-js">let str = &quot;Java, JavaScript&quot;, reg = /Java(?=[a-z])/gi, newStr = &quot;Type&quot;
let res = str.replace(reg, newStr)
console.log(res)
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code>Java, TypeScript
</code></pre>
<p>ä¸€ä¸ªå¤æ‚çš„ä¾‹å­:</p>
<pre><code class="language-js">    // ä½¿ç”¨replaceæå–åŸŸå 
let str = `
    https://www.baidu.com
    http://www.houdunren.com
`
let reg = /https?:\/\/(www\.\w+?\.com)/gi
let res = str.replace(reg, &quot;$1&quot;) 
console.log(res)
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code>    www.baidu.com
    www.houdunren.com
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ <strong>$1</strong> æŒ‡ä»£æ­£åˆ™è¡¨è¾¾å¼ä¸­ç¬¬ä¸€ä¸ªåˆ†ç»„æ‰€åŒ¹é…çš„å†…å®¹, åŒç† <strong>$2</strong>, <strong>$3</strong>è¡¨ç¤º<strong>åˆ†ç»„2ï¼Œåˆ†ç»„3åŒ¹é…çš„å†…å®¹</strong></p>
<h3 id="replaceä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åéœ€è¦æ›¿æ¢çš„å­—ç¬¦ä¸²ä¸­çš„ç‰¹æ®Šå˜é‡">replaceä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åéœ€è¦æ›¿æ¢çš„å­—ç¬¦ä¸²ä¸­çš„ç‰¹æ®Šå˜é‡</h3>
<table>
<thead>
<tr>
<th>å˜é‡</th>
<th>å«ä¹‰</th>
<th>ä¾‹å­</th>
</tr>
</thead>
<tbody>
<tr>
<td>$&amp;</td>
<td>æ’å…¥åŒ¹é…çš„å­ä¸²ã€‚</td>
<td>&quot;abc&quot;.replace(/b/g, &quot;@$&amp;@&quot;) =&gt; &quot;a@b@c&quot;</td>
</tr>
<tr>
<td>$`</td>
<td>æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å·¦è¾¹çš„å†…å®¹ã€‚</td>
<td>&quot;abc&quot;.replace(/b/g, &quot;@$`@&quot;) =&gt; &quot;a@a@c&quot;</td>
</tr>
<tr>
<td>$'</td>
<td>æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å³è¾¹çš„å†…å®¹ã€‚</td>
<td>&quot;abc&quot;.replace(/b/g, &quot;@$'@&quot;) =&gt; &quot;a@c@c&quot;</td>
</tr>
<tr>
<td>$n</td>
<td>å‡å¦‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ RegExp å¯¹è±¡ï¼Œå¹¶ä¸” n æ˜¯ä¸ªå°äº100çš„éè´Ÿæ•´æ•°ï¼Œé‚£ä¹ˆæ’å…¥ç¬¬ n ä¸ªæ‹¬å·åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚æç¤ºï¼šç´¢å¼•æ˜¯ä»1å¼€å§‹</td>
<td>&quot;abc&quot;.replace(/b(c)/g, &quot;@$1@&quot;) =&gt; &quot;a@c@&quot;</td>
</tr>
<tr>
<td>$&lt;groupName&gt;</td>
<td>æ’å…¥åˆ†ç»„groupNameåŒ¹é…çš„å­ä¸²</td>
<td>&quot;abc&quot;.replace(/(?&lt;x&gt;a)b/g, &quot;@$&lt;x&gt;@&quot;) =&gt; &quot;@a@c&quot;</td>
</tr>
<tr>
<td>$$</td>
<td>æ’å…¥ä¸€ä¸ª &quot;$&quot;ã€‚</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="strreplacereg-callback">str.replace(reg, callback)</h2>
<p><strong>ç”Ÿæˆä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå¹¶å°†strä¸­æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…éƒ¨åˆ†æ›¿æ¢æˆcallbackè¿”å›çš„å­—ç¬¦ä¸²</strong><br>
ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<pre><code class="language-js">let str = &quot;Java, JavaScript&quot;, reg = /Java([a-z]*)/gi
let res = str.replace(reg, (all, group1) =&gt; {
    return &quot;@&quot; + all + &quot;@&quot; + group1 + &quot;@&quot;
})
console.log(res)
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code>@Java@@, @JavaScript@Script@
</code></pre>
<p>å½“replaceçš„ç¬¬äºŒä¸ªå‚æ•°ä¸ºå‡½æ•°æ—¶, è¿™ä¸ªå‡½æ•°ä¼šæ¥æ”¶çš„å‚æ•°ä¸º: æ•´ä¸ªåŒ¹é…ç»“æœ, åˆ†ç»„1çš„ç»“æœ, åˆ†ç»„2çš„ç»“æœ...<br>
å½“æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„åˆ†ç»„è¢«å‘½åæ—¶:</p>
<pre><code class="language-js">let str = &quot;Java, JavaScript&quot;, reg = /Java(?&lt;x&gt;[a-z]*)(?&lt;y&gt;[,]*)/gi
let res = str.replace(reg, (all, x, y) =&gt; { 
    return &quot;@&quot; + all + &quot;@&quot; + x + &quot;@&quot; + y +&quot;@&quot;
})
console.log(res)
</code></pre>
<p>è¾“å‡º:</p>
<pre><code>@Java,@@,@ @JavaScript@Script@@
</code></pre>
<p>æˆ‘ä»¬å°†å½¢å‚ä¸­x,yäº’æ¢ä½ç½®:</p>
<pre><code class="language-js">let str = &quot;Java, JavaScript&quot;, reg = /Java(?&lt;x&gt;[a-z]*)(?&lt;y&gt;[,]*)/gi
let res = str.replace(reg, (all, y, x) =&gt; { 
    return &quot;@&quot; + all + &quot;@&quot; + x + &quot;@&quot; + y +&quot;@&quot;
})
console.log(res)
</code></pre>
<p>è¾“å‡º:</p>
<pre><code>@Java,@,@@ @JavaScript@@Script@
</code></pre>
<p>é€šè¿‡å¯¹æ¯”2æ¬¡è¾“å‡ºæˆ‘ä»¬å‘ç°åˆ†ç»„å‘½åå¹¶ä¸ä¼šå½±å“å‚æ•°çš„ä¼ é€’<br>
äº‹å®ä¸Šå®ƒè¿˜æ˜¯è¿™æ ·ä¼ é€’çš„:</p>
<pre><code class="language-js">// ...
let res = str.replace(reg, (all, group1, group2) =&gt; { /* ... */ })
// ...
</code></pre>
<h3 id="replaceä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŠ å›è°ƒå‡½æ•°çš„æ—¶å€™å›è°ƒå‡½æ•°æ¥æ”¶çš„å‚æ•°">replaceä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŠ å›è°ƒå‡½æ•°çš„æ—¶å€™,å›è°ƒå‡½æ•°æ¥æ”¶çš„å‚æ•°</h3>
<table>
<thead>
<tr>
<th>å˜é‡å</th>
<th>ä»£è¡¨çš„å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>match</td>
<td>åŒ¹é…çš„å­ä¸²ã€‚ï¼ˆå¯¹åº”äºä¸Šè¿°çš„$&amp;ã€‚ï¼‰</td>
</tr>
<tr>
<td>p1,p2, ...</td>
<td>å‡å¦‚replace()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª RegExp å¯¹è±¡ï¼Œåˆ™ä»£è¡¨ç¬¬nä¸ªæ‹¬å·åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ï¼ˆå¯¹åº”äºä¸Šè¿°çš„$1ï¼Œ$2ç­‰ã€‚ï¼‰ä¾‹å¦‚ï¼Œå¦‚æœæ˜¯ç”¨ /(\a+)(\b+)/ è¿™ä¸ªæ¥åŒ¹é…ï¼Œp1 å°±æ˜¯åŒ¹é…çš„ \a+ï¼Œp2 å°±æ˜¯åŒ¹é…çš„ \b+ã€‚</td>
</tr>
<tr>
<td>offset</td>
<td>åŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„åç§»é‡ã€‚ï¼ˆæ¯”å¦‚ï¼Œå¦‚æœåŸå­—ç¬¦ä¸²æ˜¯ 'abcd'ï¼ŒåŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²æ˜¯ 'bc'ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°å°†ä¼šæ˜¯ 1ï¼‰</td>
</tr>
<tr>
<td>string</td>
<td>è¢«åŒ¹é…çš„åŸå­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td>NamedCaptureGroup</td>
<td>å‘½åæ•è·ç»„åŒ¹é…çš„å¯¹è±¡</td>
</tr>
</tbody>
</table>
<p>ä»Šå¤©çš„ç¬”è®°å°±åˆ°æ­¤ç»“æŸäº†ï¼Œå­¦ä¹ æ„‰å¿«ï¼</p>

            </div>
          </article>
        </div>
        <div class="paper" data-aos="fade-in">
          
            <div class="next-post">
              <div class="next">
                ä¸‹ä¸€ç¯‡
              </div>
              <a href="https://otirik-handi.github.io/post/js_note/">
                <h3 class="post-title">
                  JavaScriptå­¦ä¹ ç¬”è®°(æ‰‹å†™promise)
                </h3>
              </a>
            </div>
          
        </div>
        
      </div>

      <div class="sm-12 md-4 col sidebar">
  <div class="paper info-container">
    <img src="https://otirik-handi.github.io//images/avatar.png?v=1629646988483" class="no-responsive avatar">
    <div class="text-muted">æ¸©æ•…è€ŒçŸ¥æ–°</div>
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
  </div>
  <div class="paper">
    <div class="sidebar-title">
      æœ€æ–°æ–‡ç« 
    </div>
    <div class="row">
      <ul>
        
          
            <li>
              <a href="https://otirik-handi.github.io/post/js-xue-xi-bi-ji-stringreplace/">JSå­¦ä¹ ç¬”è®°: String.replace</a>
            </li>
          
        
          
            <li>
              <a href="https://otirik-handi.github.io/post/js_note/">JavaScriptå­¦ä¹ ç¬”è®°(æ‰‹å†™promise)</a>
            </li>
          
        
          
            <li>
              <a href="https://otirik-handi.github.io/post/about/">å…³äº</a>
            </li>
          
        
          
            <li>
              <a href="https://otirik-handi.github.io/post/hello-gridea/">Hello Gridea</a>
            </li>
          
        
      </ul>
    </div>
  </div>
  <div class="paper">
    <div class="sidebar-title">
      æ ‡ç­¾åˆ—è¡¨
    </div>
    <div class="row">
      
        <a href="https://otirik-handi.github.io/tag/P_ar7hl3u/" class="badge success">
          JavaScript
        </a>
      
        <a href="https://otirik-handi.github.io/tag/JxnC_xMWY/" class="badge ">
          Gridea
        </a>
      
    </div>
  </div>
  <div class="paper">
    Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://otirik-handi.github.io//atom.xml" target="_blank">RSS</a>
  </div>
</div>


    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

</script>




  </body>
</html>
